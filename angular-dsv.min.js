/*
 * angular-dsv 0.0.5
 * (c) 2015 J. Harshbarger
 * Licensed MIT
 */
!function(){"use strict";function a(a){var b=a.charCodeAt(0),c={};return c.parseRows=function(a,c){function d(){if(k>=j)return h;if(f)return f=!1,g;var c=k;if(34===a.charCodeAt(c)){for(var d=c;d++<j;)if(34===a.charCodeAt(d)){if(34!==a.charCodeAt(d+1))break;++d}k=d+2;var e=a.charCodeAt(d+1);return 13===e?(f=!0,10===a.charCodeAt(d+2)&&++k):10===e&&(f=!0),a.substring(c+1,d).replace(/""/g,'"')}for(;j>k;){var e=a.charCodeAt(k++),i=1;if(10===e)f=!0;else if(13===e)f=!0,10===a.charCodeAt(k)&&(++k,++i);else if(e!==b)continue;return a.substring(c,k-i)}return a.substring(c)}for(var e,f,g={},h={},i=[],j=a.length,k=0,l=0;(e=d())!==h;){for(var m=[];e!==g&&e!==h;)m.push(e),e=d();(!c||(m=c(m,l++)))&&i.push(m)}return i},c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),c)}:e})},c}function b(a,b){return angular.isFunction(a)?{requestConfig:null,f:a}:{requestConfig:a,f:b}}function c(c,d){function e(e){function f(a,b){var d={method:"get",transformResponse:function(a){return g.parse(a,b)}};return angular.extend(d,a),c(d)}var g=d.d3?d.d3.dsv(e):a(e);return f.parseRows=g.parseRows,f.parse=g.parse,f.get=function(a,c,d){var e=b(c,d),g={method:"get",url:a};return f(angular.extend(g,e.requestConfig),e.f)},f.getRows=function(a,c,d){var e=b(c,d),h={method:"get",url:a,transformResponse:function(a){return g.parseRows(a,e.f)}};return f(angular.extend(h,e.requestConfig),e.f)},f}return e.tsv=e("	"),e.csv=e(","),e}c.$inject=["$http","$window"],angular.module("hc.dsv",[]).factory("dsv",c)}();